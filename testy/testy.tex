\chapter{Testy}

W ramach testów systemu przygotowano ¶rodowisko zgodnie z instrukcj± u¿ytkownika (zawarta w dodatku A). Po uruchomieniu systemu symulacyjnego wykonano czynno¶ci sprawdzaj±ce dzia³anie podstawowych funkcji oprogramowania, wymaganych do bezproblemowego u¿ytkowania go.

W pierwszej kolejno¶ci sprawdzono poprawno¶æ wczytywania siê modelu laboratorium, oraz umieszczania i chowania robotów ze sceny, test ten wypad³ pomy¶lnie.
Kolejnym wa¿nym aspektem jest to czy w systemie ROS, po dodaniu robota pojawiaj± siê odpowiednie tematy. Dla robota 'pioneer\_1' s± one nastêpuj±ce:

\begin{itemize}
\item \begin{verbatim}/pioneer_1/RosAria/cmd_vel\end{verbatim}
\item \begin{verbatim}/pioneer_1/RosAria/pose \end{verbatim}
\item \begin{verbatim}/pioneer_1/camera/camera_info\end{verbatim}
\item \begin{verbatim}/pioneer_1/camera/image_raw\end{verbatim}
\item \begin{verbatim}/pioneer_1/camera/parameter_descriptions\end{verbatim}
\item \begin{verbatim}/pioneer_1/camera/parameter_updates\end{verbatim}
\item \begin{verbatim}/pioneer_1/scan\end{verbatim}
\end{itemize}


\begin{figure}[htbp]
 \centering
 \includegraphics[width=0.8\textwidth]{testy/test1.png}
 \label{fig:docker}
\end{figure}


Nastêpnie sprawdzono mo¿liwo¶æ zarz±dzania pozycj± robotów z poziomu okienka 'Zarz±dzanie robotami'. Przeprowadzone testy wykaza³y, ¿e pozycja robota ustawiana jest w sposób odpowiedni, a b³êdnie wprowadzone dane s± odpowiednio sygnalizowane. Jedynym problemem okaza³ siê brak weryfikacji czy miejsce w którym chcemy postawiæ robota jest wolne i czy nie wyl±duje on np. na innym robocie.


Ostatni± grup± funkcjonalno¶ci jest mo¿liwo¶æ rejestracji pozycji robota i zapisanie jej do pliku. W celu jej weryfikacji do systemu ROS opublikowano dwie wiadomo¶ci,  które w efekcie powinny umo¿liwiæ narysowanie robotem ósemki:
\begin{itemize}
\item \begin{verbatim}rostopic pub /pioneer_1/RosAria/cmd_vel \
geometry_msgs/Twist -- '[0.5, 0.0, 0.0]' '[0.0, 0.0, 0.2]' \end{verbatim}
\item \begin{verbatim}rostopic pub /pioneer_1/RosAria/cmd_vel \
geometry_msgs/Twist -- '[0.5, 0.0, 0.0]' '[0.0, 0.0, -0.3]' \end{verbatim}
\end{itemize}

Po wykonaniu powy¿szych poleceñ robot pokona³ zamierzon± trasê, a otrzymane wykresy ruchu zgadza³y siê z rzeczywisto¶ci±.

\begin{figure}[htbp]
 \centering
 \includegraphics[width=0.6\textwidth]{testy/test3.png}
 \label{fig:docker}
\end{figure}


\section{Przygotowanie do laboratorium}

W celu sprawdzenia mo¿liwo¶ci korzystania z modu³u RosAriaDriver, napisano prosty program umo¿liwiaj±cy poruszanie siê po kwadracie, z wykorzystaniem napisanej w Pythonie biblioteki drive\_simulation.py dostêpnej w przygotowanym kontenerze dockera.
\begin{verbatim}
from drive_simulation import RosAriaDriver
p = RosAriaDriver('pioneer_1')
for i in range(4):
    p.SetSpeedLR(0.2, 0.2, 5)
    p.SetSpeed(0, 0.2, 5)
\end{verbatim}

W ten sposób uda³o siê uzyskaæ przejazd po ¶cie¿ce przypominaj±cej kwadrat.

\begin{figure}[htbp]
 \centering
 \includegraphics[width=0.6\textwidth]{testy/test4.png}
 \label{fig:docker}
\end{figure}
